<script setup>
import { ref } from 'vue';
import { RouterView, useRoute } from 'vue-router';
import Header from './components/layout/Header.vue';
import Sidebar from './components/layout/Sidebar.vue';

const route = useRoute();

// âœ… ì „ì—­ì ìœ¼ë¡œ ê´€ë¦¬í•  nameList
const nameList = ref([
  { id: '2501', name: '25.01', description: '25ë…„ë„ 1ì›” ê°œë°œ ëŒ€ìƒ ëª©ë¡ ì…ë‹ˆë‹¤.' },
  { id: '2503', name: '25.03(í›„ë³´)', description: '25ë…„ë„ 3ì›” ê°œë°œ ëŒ€ìƒ í›„ë³´ ëª©ë¡ ì…ë‹ˆë‹¤.' },
  { id: '2504', name: '25.04(í›„ë³´)', description: '25ë…„ë„ 4ì›” ê°œë°œ ëŒ€ìƒ í›„ë³´ ëª©ë¡ ì…ë‹ˆë‹¤.' }
]);

// âœ… ìƒˆë¡œìš´ ëª©ë¡ ì¶”ê°€ í•¨ìˆ˜
const addNewItem = (newItem) => {
  console.log('ğŸ“Œ [App.vue] addNewItem í˜¸ì¶œë¨', newItem);
  nameList.value.push(newItem);
};
</script>

<template>
  <div class="app-layout">
    <!-- âœ… ì‚¬ì´ë“œë°” -->
    <Sidebar v-if="route.path !== '/'" />

    <!-- âœ… ë©”ì¸ ì»¨í…ì¸  -->
    <div class="main-container">
      <Header v-if="route.path !== '/'" />
      
      <div class="page-container">
        <RouterView :nameList="nameList" @addNewItem="addNewItem" />
      </div>
    </div>
  </div>
</template>

<style scoped>
/* âœ… ì „ì²´ ë ˆì´ì•„ì›ƒ ì„¤ì • */
.app-layout {
  display: flex;
  width: 100vw;
  height: 100vh;
}

/* âœ… ì‚¬ì´ë“œë°” í¬ê¸° ê³ ì • */
.sidebar {
  width: 200px;
  height: 100vh;
  flex-shrink: 0; /* ì‚¬ì´ë“œë°” í¬ê¸° ê³ ì • */
}

/* âœ… ë©”ì¸ ì»¨í…ì¸  */
.main-container {
  display: flex;
  flex-direction: column;
  flex-grow: 1; /* ë‚¨ì€ ê³µê°„ì„ ì°¨ì§€ */
  background-color: #f5f6fa;
}

/* âœ… í—¤ë” ë¬¸ì œ í•´ê²° */
.header {
  height: 50px; /* ê¸°ë³¸ê°’ 40pxì—ì„œ 50pxë¡œ ì¦ê°€ */
  line-height: 50px;
  margin: 0;
  padding: 0 20px;
}

/* âœ… í˜ì´ì§€ ì»¨í…ì¸  */
.page-container {
  padding: 16px;
  width: 100%;
  box-sizing: border-box;
  padding-top: 0; /* âœ… í—¤ë”ì™€ ê°„ê²© ì—†ìŒ */
  margin-top: 0; /* âœ… ë¶ˆí•„ìš”í•œ ì—¬ë°± ì œê±° */
}

/* âœ… ê¸°ë³¸ í°íŠ¸ ì ìš© */
* {
  font-family: 'Inter', sans-serif;
  color: #333;
}

/* âœ… ì œëª© ìŠ¤íƒ€ì¼ */
h1, h2, h3, h4 {
  font-weight: 600;
  color: #222;
}
</style>
